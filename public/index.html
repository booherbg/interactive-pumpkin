<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ðŸŽƒ Pumpkin Painter</title>
  <link rel="stylesheet" href="/css/pumpkin.css">
</head>
<body>
  <div class="container">
    <header>
      <h1>ðŸŽƒ Pumpkin Painter</h1>
    </header>

    <!-- Shortcut Buttons -->
    <div class="shortcuts">
      <button class="shortcut-btn whole-pumpkin" data-feature="wholePumpkin" data-label="Whole Pumpkin">ðŸŽƒ Whole Pumpkin</button>
      <button class="shortcut-btn" data-feature="allFace" data-label="Whole Face">âœ¨ Whole Face</button>
      <button class="shortcut-btn" data-feature="bothEyes" data-label="Both Eyes">ðŸ‘€ Both Eyes</button>
    </div>

    <!-- Instructions -->
    <div class="instructions">
      <p class="instruction-text">ðŸ‘† Tap any part of the pumpkin to light it up! ðŸ‘‡</p>
    </div>

    <div class="pumpkin-container">
      <!-- SVG Pumpkin -->
      <svg viewBox="0 0 600 600" class="pumpkin-svg">
        <defs>
          <!-- Animated gradient for features -->
          <linearGradient id="featureGradient" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" class="stop1">
              <animate attributeName="stop-color" dur="3s" repeatCount="indefinite"/>
            </stop>
            <stop offset="50%" class="stop2">
              <animate attributeName="stop-color" dur="3s" repeatCount="indefinite"/>
            </stop>
            <stop offset="100%" class="stop3">
              <animate attributeName="stop-color" dur="3s" repeatCount="indefinite"/>
            </stop>
            <animateTransform attributeName="gradientTransform" type="rotate" from="0 0.5 0.5" to="360 0.5 0.5" dur="6s" repeatCount="indefinite"/>
          </linearGradient>
        </defs>
        
        <!-- Left outer shell (rim) - single curve -->
        <path d="M 70,120 A 240,260 0 0,0 70,520" 
              class="clickable-area outer-shell-left" data-feature="bothRims" data-label="Both Outer Rims"
              fill="none" stroke-linecap="round"/>

        <!-- Right outer shell (rim) - single curve -->
        <path d="M 530,120 A 240,260 0 0,1 530,520" 
              class="clickable-area outer-shell-right" data-feature="bothRims" data-label="Both Outer Rims"
              fill="none" stroke-linecap="round"/>

        <!-- Inner fill (light orange interior) -->
        <ellipse cx="300" cy="320" rx="190" ry="210" 
                 class="clickable-area inner-fill" data-feature="innerFiller" data-label="Inner Fill"/>

        <!-- Pumpkin shell (outline only) -->
        <ellipse cx="300" cy="320" rx="200" ry="220" 
                 class="clickable-area pumpkin-shell" data-feature="pumpkinShell" data-label="Shell"/>

        <!-- Left Eye (solid, 20% bigger) -->
        <polygon points="216,232 264,232 254,288 226,288" 
                 class="clickable-area feature-cutout" data-feature="leftEye" data-label="Left Eye"/>

        <!-- Right Eye (solid, 20% bigger) -->
        <polygon points="336,232 384,232 374,288 346,288" 
                 class="clickable-area feature-cutout" data-feature="rightEye" data-label="Right Eye"/>

        <!-- Nose (solid, 20% bigger) -->
        <polygon points="300,294 324,336 276,336" 
                 class="clickable-area feature-cutout" data-feature="nose" data-label="Nose"/>

        <!-- Mouth (solid) -->
        <path d="M 200,380 Q 300,420 400,380 L 390,400 Q 300,440 210,400 Z" 
              class="clickable-area feature-cutout" data-feature="allMouth" data-label="Mouth"/>

        <!-- Hover labels -->
        <text class="hover-label" id="hoverLabel" x="300" y="550" text-anchor="middle"></text>
      </svg>
    </div>

    <!-- Modal -->
    <div class="modal" id="controlModal">
      <div class="modal-content">
        <div class="modal-header">
          <div>
            <h2 id="modalTitle">Select Effect</h2>
            <div class="modal-subtitle">
              <button id="randomEffectBtn" class="random-btn" title="Pick a random effect">ðŸŽ² Random Effect</button>
              <button id="randomPaletteBtn" class="random-btn" title="Pick a random palette">ðŸŽ¨ Random Palette</button>
            </div>
          </div>
          <button class="close-btn" id="closeModal">Ã—</button>
        </div>

        <div class="modal-body">
          <section class="modal-section" id="customColorsSection" style="display: none;">
            <h3>Custom Colors</h3>
            <div class="custom-colors-grid">
              <div>
                <label style="display: block; margin-bottom: 8px; color: #888;">Color 1:</label>
                <div class="color-grid" id="customColor1Grid"></div>
              </div>
              <div>
                <label style="display: block; margin-bottom: 8px; color: #888;">Color 2:</label>
                <div class="color-grid" id="customColor2Grid"></div>
              </div>
            </div>
          </section>

          <section class="modal-section" id="paletteSection">
            <h3>Color Palette</h3>
            <div class="palette-grid" id="paletteGrid"></div>
          </section>

          <section class="modal-section" id="solidColorSection">
            <h3>Solid Color</h3>
            <div class="color-grid" id="colorGrid"></div>
          </section>

          <section class="modal-section">
            <h3>Effect</h3>
            <div class="effect-categories" id="effectCategories"></div>
          </section>

        </div>
        <div class="controls-section" id="controlsSection">
          <div class="slider-group">
            <div class="slider-row">
              <span class="slider-label">Speed</span>
              <input type="range" id="speedSlider" min="0" max="255" value="128" class="slider">
              <span class="slider-value" id="speedValue">128</span>
            </div>
          </div>

          <div class="slider-group">
            <div class="slider-row">
              <span class="slider-label">Intensity</span>
              <input type="range" id="intensitySlider" min="0" max="255" value="128" class="slider">
              <span class="slider-value" id="intensityValue">128</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Toast notifications -->
    <div id="toastContainer"></div>

    <!-- Reset Button -->
    <button class="reset-btn" id="resetBtn" title="Reset to solid orange">
      ðŸ”„ Reset
    </button>

    <!-- Screensaver -->
    <div class="screensaver" id="screensaver">
      <div class="screensaver-bouncing-bg" id="screensaverBouncingBg"></div>
      <div class="screensaver-content">
        <div class="bouncing-pumpkin">ðŸŽƒ</div>
        <h2 class="screensaver-title">Tap here to paint the pumpkin!</h2>
        <p class="screensaver-subtitle">âœ¨ Create your own light show âœ¨</p>
      </div>
    </div>
  </div>

  <script type="module" src="/js/pumpkin.js"></script>
</body>
</html>

